<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>微信自定义菜单编辑</title>
    <link rel="stylesheet" href="css/angular-material.min.css">
    <link rel="stylesheet" href="css/icon.css">
    <link rel="stylesheet" href="css/md-data-table.css">
  </head>
  <body layout="column" ng-app="WeixinMenuApp">
    <md-toolbar class="md-whiteframe-1dp">
    <div class="md-toolbar-tools">
      <div class="md-title">微信自定义菜单编辑</div>
    </div>
    </md-toolbar>
    <md-content laout="column" flex ng-controller="MenuController">
    <md-card>
    <md-toolbar class="md-table-toolbar md-default">
    <div class="md-toolbar-tools">
      <span>菜单列表</span>
      <div flex></div>
      <md-button class="md-icon-button" ng-click="loadStuff()">
      <md-icon>refresh</md-icon>
      </md-button>
    </div>
    </md-toolbar>
    <md-table-container>
    <table md-table md-row-select="options.rowSelection" multiple="{{options.multiSelect}}" ng-model="selected" md-progress="promise">
      <thead md-head md-order="query.order" md-on-reorder="logOrder">
        <tr md-row>
          <th md-column md-order-by="level"><md-icon>comments</md-icon><span>菜单级别</span></th>
          <th md-column md-order-by="father"><span>父菜单</span></th>
          <th md-column><span>菜单名称</span></th>
          <th md-column md-order-by="type"><md-icon>comments</md-icon><span>菜单类型</span></th>
          <th md-column><md-icon>comments</md-icon><span>跳转Url</span></th>
          <th md-column><md-icon>comments</md-icon><span>菜单Key值</span></th>
          <th md-column><md-icon>comments</md-icon><span>多媒体Id</span></th>
        </tr>
      </thead>
      <tbody md-body>
        <tr md-row md-select="dessert" md-on-select="logItem" md-auto-select="options.autoSelect" ng-disabled="dessert.calories.value > 400" ng-repeat="dessert in desserts.data | filter: filter.search | orderBy: query.order | limitTo: query.limit : (query.page -1) * query.limit">
          <td md-cell>
            <md-select ng-model="dessert.level" placeholder="请选择菜单级别" aria-label="Close">
            <md-option ng-value="level" ng-repeat="level in ['一级菜单', '二级菜单']">{{level}}</md-option>
            </md-select>
          </td>
          <td md-cell>{{dessert.father || '无'}}</td>
          <td md-cell>{{dessert.name}}</td>
          <td md-cell>
            <md-select ng-model="dessert.type" placeholder="请选择菜单类型" aria-label="Close">
            <md-option ng-value="type" ng-repeat="type in ['点击推事件', '跳转URL', '扫码推事件']">{{type}}</md-option>
            </md-select>
          </td>
          <td md-cell ng-click="editUrl($event, dessert)" ng-class="{'md-placeholder': !dessert.url}">{{dessert.url || 'http://'}}</td>
          <td md-cell ng-click="editKey($event, dessert)" ng-class="{'md-placeholder': !dessert.key}">{{dessert.key || 'key'}}</td>
          <td md-cell ng-click="editMediaId($event, dessert)" ng-class="{'md-placeholder': !dessert.mediaId}">{{dessert.mediaId || 'mediaId'}}</td>
        </tr>
      </tbody>
    </table>
    </md-table-container>
    <div>
      <md-content>
      <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button class="md-raised md-warn" ng-click="remove()">删除</md-button>
      </section>
      </md-content>
    </div>
    </md-card>
    <md-card>
    <md-toolbar class="md-table-toolbar md-default">
    <div class="md-toolbar-tools">
      <span>新增菜单</span>
      <div flex></div>
    </div>
    </md-toolbar>
    <div layout="column" ng-cloak class="md-inline-form">
      <md-content layout-padding>
      <div>
        <form name="userForm">
          <div layout-gt-xs="row">
            <md-input-container class="md-block" flex-gt-xs>
            <label>菜单等级</label>
            <input ng-model="user.company" disabled>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
            <label>父菜单</label>
            <md-select ng-model="user.state">
            <md-option ng-repeat="state in states" value="{{state.abbrev}}">
            {{state.abbrev}}
            </md-option>
            </md-select>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
            <label>菜单类型</label>
            <md-select ng-model="user.state">
            <md-option ng-repeat="state in states" value="{{state.abbrev}}">
            {{state.abbrev}}
            </md-option>
            </md-select>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
            <label>菜单名称</label>
            <input ng-model="user.firstName">
            </md-input-container>
          </div>
          <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
            <label>跳转Url</label>
            <input ng-model="user.address">
            </md-input-container>
          </div>
          <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
            <label>菜单Key值</label>
            <input ng-model="user.address">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
            <label>多媒体Id</label>
            <input name="postalCode" ng-model="user.address" placeholder="12345"
            required ng-pattern="/^[0-9]{5}$/" md-maxlength="5">
            <div ng-messages="userForm.postalCode.$error" role="alert" multiple>
              <div ng-message="required" class="my-message">You must supply a postal code.</div>
              <div ng-message="pattern" class="my-message">That doesn't look like a valid postal
                code.
              </div>
              <div ng-message="md-maxlength" class="my-message">
                Don't use the long version silly...we don't need to be that specific...
              </div>
            </div>
            </md-input-container>
          </div>
        </form>
      </div>
      </md-content>
    </div>
    <div>
      <md-content>
      <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button class="md-raised md-primary" ng-click="add()">新增</md-button>
      </section>
      </md-content>
    </div>
    </md-card>
    <div>
      <md-content>
      <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button ng-click="confirm()" class="md-fab" aria-label="Eat cake">
        <md-icon md-svg-src="img/icons/cake.svg"></md-icon>
        </md-button>
      </section>
      </md-content>
    </div>
    </md-content>
    
    
    <script src="js/angular.min.js"></script>
    <script src="js/angular-animate.min.js"></script>
    <script src="js/angular-aria.min.js"></script>
    <script src="js/angular-material.min.js"></script>
    <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js'></script>
    <script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-114/svg-assets-cache.js'></script>
    <script src="js/md-data-table.js"></script>
    <script src="js/index.js"></script>
  </body>
</html>